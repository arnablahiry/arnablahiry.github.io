/* ==========================================================================
   SOFTWARE PAGE – GLOBAL LAYOUT ADJUSTMENTS
   ========================================================================== */

/* Full-bleed container on the Softwares page */
body.page-software .container,
body.page-software .section-timeline .container,
body.page-software .section-timeline-heading .container {
  max-width: none !important;
  padding-left: 0 !important;
  padding-right: 0 !important;
}

/* ------------------------------------------------------------------
   Prevent inversion of Astrolore screenshots on the Softwares page.
   This file is loaded after the site-wide theme CSS, so a page-scoped,
   high-specificity selector here will override broader inversion rules.
 ------------------------------------------------------------------ */
body.page-software:not(.light-mode) .image-pair img[src*="astrolore"],
body.page-software:not(.light-mode) .project-card img[src*="astrolore"],
body.page-software:not(.light-mode) img[src*="astrolore"]{
  filter: none !important;
  -webkit-filter: none !important;
}

/* Explicit 'no-invert' helper class for specific images that must
   retain original colors regardless of theme filters. Applied to the
   image-wrapper in software.html for Astrolore screenshots. */
.page-software .image-wrapper.no-invert,
.page-software .image-wrapper.no-invert img{
  filter: none !important;
  -webkit-filter: none !important;
  mix-blend-mode: normal !important;
  isolation: isolate !important;
}

/* Projects grid full width with internal padding */
body.page-software .projects-grid {
  width: 100vw;
  margin-left: calc(50% - 50vw);
  grid-gap: 28px;
  padding-left: 5vw;
  padding-right: 5vw;
  box-sizing: border-box;
}

/* Match Research page gutter on ultra-wide screens */
@media (min-width: 1360px) {
  body.page-software .projects-grid {
    padding-left: calc((100vw - 1360px)/2 + 24px);
    padding-right: calc((100vw - 1360px)/2 + 24px);
  }
}

/* Force 2-column layout on desktop only */
@media (min-width: 769px) {
  body.page-software .projects-grid {
    grid-template-columns: repeat(2, 1fr) !important;
  }
}

/* Nav-hint alignment fix (dark mode only) */
@media (min-width: 769px) {
  body:not(.light-mode) header nav .nav-hint-wrapper {
    right: -48vw;
  }
}

/* ==========================================================================
   SOFTWARE PAGE – INTRO + MEME SECTION (Research-page parity)
   ========================================================================== */

/* Layout of heading row */
body.page-software .research-heading-row {
  display: flex;
  gap: 1.6rem;
  align-items: stretch;
  justify-content: center;
}

/* Intro text column */
body.page-software .research-intro-text {
  flex: 1 1 70%;
}

/* Intro paragraph styling */
body.page-software .research-intro-text .research-intro {
  color: #ffffff;
  font-size: 2.1vh;
  line-height: 1.45;
}

/* Meme column */
@media (min-width: 769px) {

body.page-software .research-meme {
  flex: 0 0 550px;
  display: flex;
  align-items: center;
}
}

/* Meme wrapper */
body.page-software .research-meme .meme-wrapper {
  width: 100%;
  height: auto;
  max-width: 1000px;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  border-radius: 8px;
}

/* Meme image */
body.page-software .research-meme .timeline-hero-image {
  width: 100%;
  height: auto;
  max-height: 300px;
  object-fit: contain;
  transform: none;
}

/* Overlay */
body.page-software #meme-wrapper .meme-overlay,
body.page-software .meme-wrapper .meme-overlay {
  position: absolute;
  left: 0; right: 0; top: 0;
  height: 101%;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Mobile: smaller overlay */
@media (max-width: 768px) {
  body.page-software #meme-wrapper .meme-overlay,
  body.page-software .meme-wrapper .meme-overlay {
    height: 101%;
  }
}

/* Reveal button (dark mode parity) */
body.page-software body:not(.light-mode) #meme-wrapper .reveal-btn,
body.page-software body:not(.light-mode) .research-meme #meme-wrapper .reveal-btn {
  background: rgba(255,255,255,0.06) !important;
  color: #ffffff !important;
  border: 2px solid transparent !important;
  padding: 0.6rem 1rem !important;
  border-radius: 8px !important;
  cursor: pointer !important;
  font-weight: 700 !important;
  letter-spacing: 0.02em !important;
}

body.page-software body:not(.light-mode) #meme-wrapper .reveal-btn:hover,
body.page-software body:not(.light-mode) #meme-wrapper .reveal-btn:focus {
  box-shadow: 0 0 0.2rem rgba(254, 218, 74, 0.8) !important;
  background: rgba(160, 138, 65, 0.179) !important;
  transition: transform 0.15s ease,
              background 0.3s ease,
              box-shadow 0.3s ease,
              border 0.15s ease !important;
}

/* Mobile layout: meme on top, then intro text */
@media (max-width: 768px) {
  body.page-software .research-heading-row {
    flex-direction: column;
    align-items: center;
    gap: 1.9rem;
  }

  body.page-software .research-meme {
    order: -1;
    width: 100%;
    max-width: none;
  }

  body.page-software .meme-wrapper {
    width: 100%;
    padding: 0 5vw;
    margin-bottom: 1.25rem;
    box-sizing: border-box;
  }

  body.page-software .timeline-hero-image {
    max-height: 220px;
    margin: 0 auto;
  }

  body.page-software .research-intro-text {
    width: 100%;
  }

  body.page-software .research-intro-text .research-intro {
    text-align: center;
    font-size: 1.6vh !important;
  }
}

/* Mobile spacing adjustments */
@media (max-width: 768px) {
  body.page-software .padding-vertical-xlarge {
    padding-top: 60px !important;
    padding-bottom: 40px !important;
  }
}

/* ==========================================================================
   PROJECT CARD TYPOGRAPHY (Softwares page only)
   ========================================================================== */

body.page-software .project-title {
  font-family: 'Courier New', Courier, monospace;
  font-weight: 700;
}

body.page-software .project-subtitle {
  font-family: 'Courier New', Courier, monospace;
  font-weight: 400;
}

/* ==========================================================================
   IMAGE PAIR (Two images side-by-side on desktop, stacked on mobile)
   ========================================================================== */

.page-software .image-pair {
  display: flex;
  gap: 20px;
  justify-content: center;
  align-items: stretch;
  margin: 1.25rem 0;
  padding-left: 5vw;
  padding-right: 5vw;
  box-sizing: border-box;
}

.page-software .image-pair .image-wrapper {
  flex: 1 1 0;
  border-radius: 8px;
  padding: 1px;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
}

.page-software .image-pair img {
  width: 100%;
  height: auto;
  object-fit: contain;
  display: block;
  max-height: 480px;
}

/* --- MOBILE FIX: STACKED IMAGES WITHOUT THIN STRIPS --- */
@media (max-width: 768px) {
  .page-software .image-pair {
    flex-direction: column;
    gap: 0.75rem;
    align-items: stretch;
    height: auto !important;
    max-height: none !important;
  }

  .page-software .image-pair .image-wrapper {
    flex: 0 0 auto !important;   /* <-- CRITICAL FIX */
    height: auto !important;
    min-height: auto !important;
    max-height: none !important;
    overflow: visible !important;
  }

  .page-software .image-pair img {
    width: 100% !important;
    height: auto !important;
    max-height: none !important;
    object-fit: contain !important;
    border-radius: 6px;
    display: block;
  }
}


